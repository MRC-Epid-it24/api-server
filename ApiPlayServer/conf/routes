# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# SHARED CONTROLLERS #

POST           /signin                                                       controllers.system.SigninController.signin
POST           /refresh                                                      controllers.system.SigninController.refresh

GET            /index/lookup/:locale/:term                                   controllers.FoodIndexController.lookup(locale, term)

OPTIONS        /*dontcare                                                    controllers.CorsPreflightController.corsPreflight(dontcare: String)

# ADMIN CONTROLLERS #

# Locales

GET            /admin/locales                                                controllers.LocalesAdminController.listLocales()
GET            /admin/locales/:id                                            controllers.LocalesAdminController.getLocale(id)


# Browsing

GET            /admin/browse/:locale/root-categories                         controllers.FoodBrowsingAdminController.getRootCategories(locale: String)
GET            /admin/browse/:locale/uncategorised-foods                     controllers.FoodBrowsingAdminController.getUncategorisedFoods(locale: String)

GET            /admin/browse/:locale/:code                                   controllers.FoodBrowsingAdminController.getCategoryContents(code: String, locale: String)

GET            /admin/browse/:locale/food-parent-categories/:code            controllers.FoodBrowsingAdminController.getFoodParentCategories(code: String, locale: String)
GET            /admin/browse/:locale/food-all-categories/:code               controllers.FoodBrowsingAdminController.getFoodAllCategories(code: String, locale: String)

GET            /admin/browse/:locale/category-parent-categories/:code        controllers.FoodBrowsingAdminController.getCategoryParentCategories(code: String, locale: String)
GET            /admin/browse/:locale/category-all-categories/:code           controllers.FoodBrowsingAdminController.getCategoryAllCategories(code: String, locale: String)

# Quick search

GET            /admin/quick-search/:locale/categories/:term                  controllers.QuickSearchController.searchCategories(term: String, locale: String)
GET            /admin/quick-search/:locale/foods/:term                       controllers.QuickSearchController.searchFoods(term: String, locale: String)

# Foods

GET            /admin/foods/code-available/:code                             controllers.FoodsAdminController.isFoodCodeAvailable(code: String)
GET            /admin/foods/:locale/:code                                    controllers.FoodsAdminController.getFoodRecord(code: String, locale: String)

POST           /admin/foods/new                                              controllers.FoodsAdminController.createFood()
POST           /admin/foods/new-with-temp-code                               controllers.FoodsAdminController.createFoodWithTempCode()
POST           /admin/foods/:code                                            controllers.FoodsAdminController.updateMainFoodRecord(code: String)
POST           /admin/foods/:locale/:code                                    controllers.FoodsAdminController.updateLocalFoodRecord(code: String, locale: String)
DELETE         /admin/foods/:code                                            controllers.FoodsAdminController.deleteFood(code)

# Categories

GET            /admin/categories/code-available/:code                        controllers.CategoriesAdminController.isCategoryCodeAvailable(code)
GET            /admin/categories/:locale/:code                               controllers.CategoriesAdminController.getCategoryRecord(code: String, locale: String)

POST           /admin/categories/new                                         controllers.CategoriesAdminController.createMainCategoryRecord()
POST           /admin/categories/:code                                       controllers.CategoriesAdminController.updateMainCategoryRecord(code: String)
POST           /admin/categories/:locale/:code                               controllers.CategoriesAdminController.updateLocalCategoryRecord(code: String, locale: String)
DELETE         /admin/categories/:code                                       controllers.CategoriesAdminController.deleteCategory(code: String)


# Problem checker

GET            /admin/foods/:locale/:code/problems                           controllers.ProblemCheckerController.checkFood(code: String, locale: String)
GET            /admin/categories/:locale/:code/problems                      controllers.ProblemCheckerController.checkCategory(code: String, locale: String)
GET            /admin/categories/:locale/:code/recursive-problems            controllers.ProblemCheckerController.checkCategoryRecursive(code: String, locale: String)


# Food groups

GET            /admin/food-groups/:locale                                    controllers.FoodGroupsAdminController.listFoodGroups(locale: String)
GET            /admin/food-groups/:locale/:id                                controllers.FoodGroupsAdminController.getFoodGroup(id: Int, locale: String)


# Associated foods

GET            /admin/associated-foods/:locale/:code                         controllers.AssociatedFoodsAdminController.getAssociatedFoods(code: String, locale: String)
POST           /admin/associated-foods/:locale/:code                         controllers.AssociatedFoodsAdminController.updateAssociatedFoods(code: String, locale: String)

# Portion size methods

GET            /admin/portion-size/as-served                                 controllers.AsServedSetsAdminController.listAsServedSets()
GET            /admin/portion-size/as-served/:id                             controllers.AsServedSetsAdminController.getAsServedSet(id: String)

GET            /admin/portion-size/as-served/:id/export                      controllers.AsServedSetsAdminController.exportAsServedSet(id: String)
POST           /admin/portion-size/as-served/import                          controllers.AsServedSetsAdminController.importAsServedSet()

POST           /admin/portion-size/as-served/new                             controllers.AsServedSetsAdminController.createAsServedSet()
POST           /admin/portion-size/as-served/new-from-source                 controllers.AsServedSetsAdminController.createAsServedSetFromSource()
PUT            /admin/portion-size/as-served/:id                             controllers.AsServedSetsAdminController.updateAsServedSet(id: String)

# POST           /admin/portion-size/image-map/new                             controllers.ImageMapAdminController.createImageMap()
# POST           /admin/portion-size/image-map/new-from-source                 controllers.ImageMapAdminController.createImageMapFromSource()

GET            /admin/portion-size/image-map                                 controllers.ImageMapAdminController.listImageMaps()
GET            /admin/portion-size/image-map/:id/base-image-source-id        controllers.ImageMapAdminController.getImageMapBaseImageSourceId(id)
POST           /admin/portion-size/image-map/new-from-svg                    controllers.ImageMapAdminController.createImageMapFromSVG()

GET            /admin/portion-size/guide-image                               controllers.GuideImageAdminController.listGuideImages()
GET            /admin/portion-size/guide-image/:id                           controllers.GuideImageAdminController.getGuideImage(id: String)
POST           /admin/portion-size/guide-image/new                           controllers.GuideImageAdminController.createGuideImage()
POST           /admin/portion-size/guide-image/selection-screen-image        controllers.GuideImageAdminController.updateGuideSelectionImage(id: String, selectionImageId: Long)

GET            /admin/portion-size/drinkware                                 controllers.DrinkwareAdminController.listDrinkwareSets()
GET            /admin/portion-size/drinkware/:id                             controllers.DrinkwareAdminController.getDrinkwareSet(id: String)

GET            /user/foods/:locale/:code                                     controllers.UserFoodDataController.getFoodData(code: String, locale: String)
GET            /user/foods/:locale/:code/with-sources                        controllers.UserFoodDataController.getFoodDataWithSources(code: String, locale: String)
GET            /user/foods/:locale/:code/brand-names                         controllers.UserFoodDataController.getBrandNames(code: String, locale: String)
GET            /user/foods/:locale/:code/associated-foods                    controllers.UserFoodDataController.getAssociatedFoodPrompts(code: String, locale: String)

GET            /user/portion-size/as-served/:id                              controllers.UserFoodDataController.getAsServedSet(id: String)

# Nutrient tables

GET            /admin/nutrient-tables                                        controllers.NutrientTablesAdminController.listNutrientTables()

# Nutrient types
GET            /admin/nutrient-types                                         controllers.NutrientTypesController.list()

# Source image management

GET            /admin/images/source                                          controllers.ImageAdminController.listSourceImages(offset: Int, limit: Int, search: Option[String])
POST           /admin/images/source/new                                      controllers.ImageAdminController.uploadSourceImage()
POST           /admin/images/source/new-as-served                            controllers.ImageAdminController.uploadSourceImageForAsServed(setId: String)
POST           /admin/images/source/new-image-map                            controllers.ImageAdminController.uploadSourceImageForImageMap(id: String)
PATCH          /admin/images/source/:id                                      controllers.ImageAdminController.updateSourceImage(id: Int)
DELETE         /admin/images/source/delete                                   controllers.ImageAdminController.deleteSourceImages()

POST           /admin/images/process-for-selection-screen                    controllers.ImageAdminController.processForSelectionScreen(pathPrefix: String, sourceImageId: Long)

# POST    /admin/images/as-served               controllers.ImageAdminController.processForAsServed()

# GET     /index/synsets/:locale                controllers.FoodIndexController.synsets(locale: String)
# GET     /index/split-list/:locale             controllers.FoodIndexController.splitList(locale: String)


# User management

GET            /admin/users                                                  controllers.system.UserAdminController.listGlobalUsers(offset: Int, limit: Int)
POST           /admin/users/create-or-update                                 controllers.system.UserAdminController.createOrUpdateGlobalUsers()
DELETE         /admin/users/delete                                           controllers.system.UserAdminController.deleteGlobalUsers()

GET            /admin/users/:surveyId/staff                                  controllers.system.UserAdminController.listSurveyStaffUsers(surveyId: String, offset: Int, limit: Int)
GET            /admin/users/:surveyId/respondents                            controllers.system.UserAdminController.listSurveyRespondentUsers(surveyId: String, offset: Int, limit: Int)
POST           /admin/users/:surveyId/staff/create-or-update                 controllers.system.UserAdminController.createOrUpdateSurveyStaff(surveyId: String)
POST           /admin/users/:surveyId/staff/upload-csv                       controllers.system.UserAdminController.uploadSurveyStaffCSV(surveyId: String)
POST           /admin/users/:survey_id/respondents/create-or-update          controllers.system.UserAdminController.createOrUpdateSurveyRespondents(survey_id: String)
POST           /admin/users/:survey_id/respondents/upload-csv                controllers.system.UserAdminController.uploadSurveyRespondentsCSV(survey_id: String)
DELETE         /admin/users/:surveyId/delete                                 controllers.system.UserAdminController.deleteSurveyUsers(surveyId)

# Survey management

POST           /admin/surveys/new                                            controllers.system.SurveyAdminController.createSurvey()
DELETE         /admin/surveys/:surveyId/delete                               controllers.system.SurveyAdminController.deleteSurvey(surveyId)

# POST           /admin/update-global-support-users                            controllers.system.SurveyAdminController.updateGlobalSupportUsers()
# POST           /admin/surveys/:surveyId/support-users/update                 controllers.system.SurveyAdminController.updateSurveySupportUsers(surveyId: String)

# Data export

GET            /admin/surveys/:surveyId/submissions                          controllers.system.DataExportController.getSurveySubmissions(surveyId, dateFrom: String, dateTo: String, offset: Int, limit: Int)
GET            /admin/surveys/:surveyId/mySubmissions                        controllers.system.DataExportController.getMySurveySubmission(surveyId)
GET            /admin/surveys/:surveyId/submissions/csv                      controllers.system.DataExportController.getSurveySubmissionsAsCSV(surveyId, dateFrom: String, dateTo: String)
# GET            /admin/surveys/:surveyId/submissions/xlsx                     controllers.system.DataExportController.getSurveySubmissionsAsXLSX(surveyId, dateFrom: Long, dateTo: Long, offset: Int, limit: Int)

# Demographic groups

GET            /admin/demographic-groups                                     controllers.DemographicGroupsController.list()
POST           /admin/demographic-groups                                     controllers.DemographicGroupsController.createDemographicGroup()
PATCH          /admin/demographic-groups/:id                                 controllers.DemographicGroupsController.patchDemographicGroup(id: Int)
GET            /admin/demographic-groups/:id                                 controllers.DemographicGroupsController.getDemographicGroup(id: Int)
DELETE         /admin/demographic-groups/:id                                 controllers.DemographicGroupsController.deleteDemographicGroup(id: Int)

POST           /admin/demographic-groups/:id/scale-sectors                   controllers.DemographicGroupsController.createDemographicGroupScaleSector(id: Int)
PATCH          /admin/demographic-group-scale-sectors/:id                    controllers.DemographicGroupsController.patchDemographicGroupScaleSector(id: Int)
DELETE         /admin/demographic-group-scale-sectors/:id                    controllers.DemographicGroupsController.deleteDemographicGroupScaleSector(id: Int)

GET            /admin/henry-coefficients                                     controllers.DemographicGroupsController.getHenryCoefficients()
